//TEST:SIMPLE(filecheck=CHECK): -target spirv -stage compute -entry computeMain -lang slang -std 2026

// Validate some uses of `some`.

dyn interface IFooDyn
{
}

interface IFoo
{
}

struct myS : IFoo
{
    int v2;
}

// Not allowed `some` members
struct someStructMember1
{
    // CHECK-DAG: ([[# @LINE+1]]): error 33085:
    some IFoo v;
};
__generic<T>
struct someStructMember3
{
    // CHECK-DAG: ([[# @LINE+1]]): error 33085:
    some IFoo v;
};

// Not allowed `some` global
// CHECK-DAG: ([[# @LINE+1]]): error 33085:
static some IFoo globalSomeVariable;

RWStructuredBuffer<int> buffer;
void computeMain()
{

// Not allowed a `some` non-interface type
// CHECK-DAG: ([[# @LINE+1]]): error 33083
    some myS bad1;

// `dyn` and `some` is disallowed
// CHECK-DAG: ([[# @LINE+1]]): error 33086
    dyn some IFooDyn bad6;     

    buffer[0] = 0;
}